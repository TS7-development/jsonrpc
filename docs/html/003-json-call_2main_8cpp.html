<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JSON RPC: examples/003-json-call/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JSON RPC
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_04ed82fa347894d51633089936838d70.html">003-json-call</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;functional&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;boost/json.hpp&gt;</code><br />
<code>#include &lt;boost/json/src.hpp&gt;</code><br />
<code>#include &quot;<a class="el" href="003-json-call_2test_8h_source.html">test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="t4_8h_source.html">t4.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="t5_8h_source.html">t5.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="003-json-call_2main_8cpp__incl.png" border="0" usemap="#aexamples_2003-json-call_2main_8cpp" alt=""/></div>
<map name="aexamples_2003-json-call_2main_8cpp" id="aexamples_2003-json-call_2main_8cpp">
<area shape="rect" title=" " alt="" coords="287,5,461,47"/>
<area shape="rect" title=" " alt="" coords="5,244,92,271"/>
<area shape="rect" title=" " alt="" coords="533,95,613,121"/>
<area shape="rect" title=" " alt="" coords="454,319,571,345"/>
<area shape="rect" title=" " alt="" coords="637,95,777,121"/>
<area shape="rect" href="003-json-call_2test_8h.html" title=" " alt="" coords="283,244,342,271"/>
<area shape="rect" href="t4_8h.html" title=" " alt="" coords="208,169,255,196"/>
<area shape="rect" href="t5_8h.html" title=" " alt="" coords="351,95,397,121"/>
<area shape="rect" title=" " alt="" coords="259,319,329,345"/>
<area shape="rect" title=" " alt="" coords="353,319,430,345"/>
<area shape="rect" title=" " alt="" coords="177,319,235,345"/>
<area shape="rect" title=" " alt="" coords="116,244,208,271"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="003-json-call_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Json RPC call.  <a href="003-json-call_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">More...</a><br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Json RPC call. </p>
<p>Goal of this test is to design a system, that is capable of storing converting a Json RPC request with the parameter value1 (string) and value2 (int) to a matching C++ function. What shall be avoided is constantly passing around Json RPC requests when calling sub request handlers. This was how the old system worked, which was technically working but was brought some disadvantages. As side of the fact that it was always extra code to create the request, the main problem was that there was no compiler checking for changing function signatures. Every mismatch had to be found at runtime, mostly with an expensive amount of debugging time.</p>
<p>For testing the function signature was forced to be just a 2 parameter function with string and int. Later thanks to templates also other parameter types are possible. To see how the process went of designing it and being able to understand it later, every design step was saved as own test.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the exit code of the example. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="003-json-call_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph.png" border="0" usemap="#a003-json-call_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph" alt=""/></div>
<map name="a003-json-call_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph" id="a003-json-call_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph">
<area shape="rect" title="Json RPC call." alt="" coords="5,177,60,203"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#a107b2acb7de6d4ae26ef53451ebce9d0" title="example1" alt="" coords="108,5,277,47"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#a3984507a0ede5d35aefca192068efe48" title="example2" alt="" coords="108,136,277,177"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#a5d86a4d9e743271596fcd47e53566084" title="example3" alt="" coords="108,201,277,243"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#ac21df2aaded1da5cc3db0c6a97dbfaeb" title="example4" alt="" coords="108,71,277,112"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#aa97acc33f17627345d8f0e1d7500b5f0" title="example5" alt="" coords="108,267,277,308"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#aed56e50bdbb4f258d311a77c4f4b8ef4" title="example6" alt="" coords="108,332,277,373"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__call.html#ad3df8a1f05d2cfd0ef071f8a976c0a18" title="Demo Function." alt="" coords="325,71,495,112"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__basics.html#a0ef1c69b66c431e5e9516e213320d370" title="Requesting object reference." alt="" coords="325,136,495,177"/>
<area shape="rect" href="namespacets7_1_1jsonrpc_1_1examples_1_1json__basics.html#a8d5a65645b52d6cf8d3859498ca9e8c3" title="Convert to string." alt="" coords="325,201,495,243"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
